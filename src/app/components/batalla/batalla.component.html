<div class="fondo">
  <div class="trainer-info">
    <p><strong>Nombre del Entrenador:</strong> {{ jugador?.nombre }}</p>
    <p><strong>Puntuación de Partida:</strong> {{ partida?.puntuacion }}</p>
  </div>

  <div class="batalla-container" *ngIf="pokemonJugador && pokemonRival">
    <h2 class="titulo-batalla">Batalla Pokémon</h2>

    <div class="informacion">
      <!-- Información del Pokémon rival -->
      <div class="pokemon-info rival">
        <h3>{{ transformarPrimeraLetra(pokemonRival.especie) }}</h3>
        <p>HP: {{ pokemonRival.vidaActual }}/{{ pokemonRival.estadisticas.hp }}</p>
        <div class="hp-bar">
          <div class="hp-bar-inner" [style.width.%]="(pokemonRival.vidaActual / pokemonRival.estadisticas.hp) * 100">
          </div>
        </div>
        <p>Pokémon restantes: {{ pokemonRivalRestantes() }}</p>
      </div>
    </div>

    <div class="batalla">
      <!-- Sprite del Pokémon rival -->
      <div class="pokemon-sprite rival">
        <img [src]="pokemonRival.frontSprite" alt="{{ pokemonRival.especie }}">
      </div>

      <!-- Sprite del Pokémon del jugador -->
      <div class="pokemon-sprite jugador">
        <img [src]="pokemonJugador.backSprite" alt="{{ pokemonJugador.especie }}">
      </div>
    </div>

    <div class="informacion">
      <!-- Información del Pokémon del jugador -->
      <div class="pokemon-info jugador">
        <h3>{{ transformarPrimeraLetra(pokemonJugador.especie) }}</h3>
        <p>HP: {{ pokemonJugador.vidaActual }}/{{ pokemonJugador.estadisticas.hp }}</p>
        <div class="hp-bar">
          <div class="hp-bar-inner"
            [style.width.%]="(pokemonJugador.vidaActual / pokemonJugador.estadisticas.hp) * 100">
          </div>
        </div>
        <p>Pokémon restantes: {{ pokemonJugadorRestantes() }}</p>
      </div>
    </div>


    <!-- Lista de movimientos del jugador -->
    <!-- <div class="movimientos-container">
      <ul class="movimientos">
        <li *ngFor="let movimiento of movimientosJugador" (click)="realizarAtaque(movimiento)"
            class="boton-movimiento" [ngClass]="obtenerClaseTipoMovimiento(movimiento.tipo)">
          {{ transformarPrimeraLetra(movimiento.nombre) }} - Potencia: {{ movimiento.potencia }}
        </li>
      </ul>
    </div> -->


    <div class="container">

      <!-- Mensajes de batalla -->
      <div *ngIf="mensajeBatalla" class="mensaje-batalla">
        <p>{{ mensajeBatalla }}</p>
      </div>

      <ul class="movimientos-container">
        <li *ngFor="let movimiento of movimientosJugador" (click)="batalla(movimiento)" class="boton-movimiento"
          [ngClass]="obtenerClaseTipoMovimiento(movimiento.tipo)">
          {{ transformarPrimeraLetra(movimiento.nombre) }} - Potencia: {{ movimiento.potencia }}
        </li>
      </ul>
    </div>
    <aside>
      <button type="button" class="boton-cambio">Cambiar Poke</button>
    </aside>
    <!-- Resultado de la batalla -->
    <div *ngIf="resultado" class="resultado-batalla">
      <p>{{ resultado }}</p>
    </div>

  </div>
 
</div>

<div class="modal" *ngIf="mostrarModal">
  <div class="modal-contenido">
    <h2>{{ resultado }}</h2>
    <p>{{ mensajeModal }}</p>
    <button (click)="cerrarModal()">Aceptar</button>
  </div>
</div>
<!-- Botones de logout y menú -->
<div class="BotoncitoLogout">
  <button type="button" (click)="navegarMenu()">MENU</button>
  <button type="button" (click)="logout()">LOGOUT</button>
</div>